exports.ADDED_CO_STORE_ITEMS = 'ADDED_CO_STORE_ITEMS';
exports.ADDED_CO_STORE_ITEM = 'ADDED_CO_STORE_ITEM';
exports.UPDATE_CO_STORE_ITEM = 'UPDATE_CO_STORE_ITEM';
exports.REMOVED_CO_STORE_ITEM = 'REMOVED_CO_STORE_ITEM';
exports.coBrowserStorageReducer = function (state, _a) {
    if (state === void 0) { state = []; }
    var type = _a.type, payload = _a.payload;
    switch (type) {
        case exports.ADDED_CO_STORE_ITEMS:
            // Set all at once
            return payload;
        case exports.ADDED_CO_STORE_ITEM:
            // create a new array with the previous and new items
            return state.concat([Object.assign({}, payload)]);
        case exports.UPDATE_CO_STORE_ITEM:
            // if it's not the item being updated, just return it,
            // otherwise create a new item for it
            return state.map(function (item) {
                return item.key !== payload.key ?
                    item :
                    Object.assign({}, item, payload); // create copy of it
            });
        case exports.REMOVED_CO_STORE_ITEM:
            // filter out the item to remove
            return state.filter(function (item) {
                return item.key !== payload.key;
            });
        default:
            return state;
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvLWJyb3dzZXItc3RvcmFnZS9zZXJ2aWNlcy9jby1icm93c2VyLXN0b3JhZ2UtcmVkdWNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFYSw0QkFBb0IsR0FBRyxzQkFBc0IsQ0FBQTtBQUM3QywyQkFBbUIsR0FBRyxxQkFBcUIsQ0FBQTtBQUMzQyw0QkFBb0IsR0FBRyxzQkFBc0IsQ0FBQTtBQUM3Qyw2QkFBcUIsR0FBRyx1QkFBdUIsQ0FBQTtBQUUvQywrQkFBdUIsR0FBRyxVQUFDLEtBQVUsRUFBRSxFQUFlO0lBQTNCLHFCQUFVLEdBQVYsVUFBVTtRQUFHLElBQUksWUFBRSxPQUFPO0lBQ2hFLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFFYixLQUFLLDRCQUFvQjtZQUN2QixrQkFBa0I7WUFDbEIsTUFBTSxDQUFDLE9BQU8sQ0FBQTtRQUVoQixLQUFLLDJCQUFtQjtZQUN0QixxREFBcUQ7WUFDckQsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFFbkQsS0FBSyw0QkFBb0I7WUFDdkIsc0RBQXNEO1lBQ3RELHFDQUFxQztZQUNyQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLElBQUk7Z0JBQ25CLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLE9BQU8sQ0FBQyxHQUFHO29CQUM3QixJQUFJO29CQUNKLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQSxDQUFDLG9CQUFvQjtZQUN6RCxDQUFDLENBQUMsQ0FBQTtRQUVKLEtBQUssNkJBQXFCO1lBQ3hCLGdDQUFnQztZQUNoQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFDLElBQUk7Z0JBQ3ZCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLE9BQU8sQ0FBQyxHQUFHLENBQUE7WUFDakMsQ0FBQyxDQUFDLENBQUE7UUFFSjtZQUNFLE1BQU0sQ0FBQyxLQUFLLENBQUE7SUFDaEIsQ0FBQztBQUNILENBQUMsQ0FBQSIsImZpbGUiOiJjby1icm93c2VyLXN0b3JhZ2Uvc2VydmljZXMvY28tYnJvd3Nlci1zdG9yYWdlLXJlZHVjZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JlZHVjZXIsIEFjdGlvbn0gZnJvbSAnQG5ncngvc3RvcmUnXG5cbmV4cG9ydCBjb25zdCBBRERFRF9DT19TVE9SRV9JVEVNUyA9ICdBRERFRF9DT19TVE9SRV9JVEVNUydcbmV4cG9ydCBjb25zdCBBRERFRF9DT19TVE9SRV9JVEVNID0gJ0FEREVEX0NPX1NUT1JFX0lURU0nXG5leHBvcnQgY29uc3QgVVBEQVRFX0NPX1NUT1JFX0lURU0gPSAnVVBEQVRFX0NPX1NUT1JFX0lURU0nXG5leHBvcnQgY29uc3QgUkVNT1ZFRF9DT19TVE9SRV9JVEVNID0gJ1JFTU9WRURfQ09fU1RPUkVfSVRFTSdcblxuZXhwb3J0IGNvbnN0IGNvQnJvd3NlclN0b3JhZ2VSZWR1Y2VyID0gKHN0YXRlID0gW10sIHt0eXBlLCBwYXlsb2FkfSkgPT4ge1xuICBzd2l0Y2ggKHR5cGUpIHtcblxuICAgIGNhc2UgQURERURfQ09fU1RPUkVfSVRFTVM6XG4gICAgICAvLyBTZXQgYWxsIGF0IG9uY2VcbiAgICAgIHJldHVybiBwYXlsb2FkXG5cbiAgICBjYXNlIEFEREVEX0NPX1NUT1JFX0lURU06XG4gICAgICAvLyBjcmVhdGUgYSBuZXcgYXJyYXkgd2l0aCB0aGUgcHJldmlvdXMgYW5kIG5ldyBpdGVtc1xuICAgICAgcmV0dXJuIHN0YXRlLmNvbmNhdChbT2JqZWN0LmFzc2lnbih7fSwgcGF5bG9hZCldKVxuXG4gICAgY2FzZSBVUERBVEVfQ09fU1RPUkVfSVRFTTpcbiAgICAgIC8vIGlmIGl0J3Mgbm90IHRoZSBpdGVtIGJlaW5nIHVwZGF0ZWQsIGp1c3QgcmV0dXJuIGl0LFxuICAgICAgLy8gb3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBpdGVtIGZvciBpdFxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ua2V5ICE9PSBwYXlsb2FkLmtleSA/XG4gICAgICAgICAgaXRlbSA6XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwgcGF5bG9hZCkgLy8gY3JlYXRlIGNvcHkgb2YgaXRcbiAgICAgIH0pXG5cbiAgICBjYXNlIFJFTU9WRURfQ09fU1RPUkVfSVRFTTpcbiAgICAgIC8vIGZpbHRlciBvdXQgdGhlIGl0ZW0gdG8gcmVtb3ZlXG4gICAgICByZXR1cm4gc3RhdGUuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBpdGVtLmtleSAhPT0gcGF5bG9hZC5rZXlcbiAgICAgIH0pXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL25vZGVfbW9kdWxlcyJ9
